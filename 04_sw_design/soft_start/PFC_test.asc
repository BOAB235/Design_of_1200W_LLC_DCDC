Version 4.1
SHEET 1 1428 680
WIRE 608 -32 480 -32
WIRE 944 32 848 32
WIRE 1024 32 944 32
WIRE 1024 48 1024 32
WIRE 480 64 480 -32
WIRE 944 80 944 32
WIRE -208 96 -288 96
WIRE -48 96 -128 96
WIRE 16 96 -48 96
WIRE 128 96 80 96
WIRE -288 144 -288 96
WIRE 480 160 480 144
WIRE 896 160 880 160
WIRE 944 160 896 160
WIRE 1136 160 944 160
WIRE -48 176 -48 96
WIRE 160 176 128 176
WIRE 880 176 880 160
WIRE 96 192 0 192
WIRE 944 192 944 160
WIRE 1024 192 1024 128
WIRE 1168 192 1024 192
WIRE 96 224 96 192
WIRE 96 224 64 224
WIRE 608 224 608 -32
WIRE 736 224 608 224
WIRE 1168 224 1168 192
WIRE 1024 240 1024 192
WIRE 64 256 64 224
WIRE 64 256 0 256
WIRE 96 256 64 256
WIRE 336 304 336 272
WIRE 1136 304 1136 160
WIRE 1168 304 1136 304
WIRE -48 320 -48 256
WIRE 48 320 -48 320
WIRE 160 320 160 176
WIRE 160 320 48 320
WIRE -48 336 -48 320
WIRE 704 336 704 320
WIRE 1024 336 1024 320
WIRE 336 352 336 304
WIRE 48 368 48 320
WIRE 64 368 48 368
WIRE 192 368 144 368
WIRE 288 368 192 368
WIRE 48 512 48 368
WIRE 64 512 48 512
WIRE 256 528 208 528
WIRE 384 528 336 528
WIRE 512 528 384 528
WIRE 208 544 208 528
WIRE 48 560 48 512
WIRE 160 560 48 560
WIRE 464 608 464 592
FLAG -288 224 0
FLAG 96 256 cmd
FLAG 672 560 0
FLAG 0 240 0
FLAG 944 256 0
FLAG 1024 336 0
FLAG 848 112 0
FLAG 896 160 vcapa
FLAG 880 272 0
FLAG 704 336 0
FLAG -48 416 0
FLAG 944 32 v5v
FLAG 288 416 0
FLAG 336 432 0
FLAG 480 160 0
FLAG 336 304 vi
FLAG 736 -320 cmd
FLAG 736 -240 0
FLAG 192 432 0
FLAG 384 592 0
FLAG 160 608 0
FLAG 208 624 0
SYMBOL bv -288 128 R0
WINDOW 3 -272 -168 Left 2
SYMATTR InstName B1
SYMATTR Value V=320*abs(sin(2*pi*50*time))
SYMBOL ind -224 112 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 500µ
SYMBOL voltage 128 80 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 400
SYMBOL voltage 672 464 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 10 0 10n 10n 2u 10u)
SYMBOL sw -48 272 R180
SYMATTR InstName S2
SYMBOL diode 16 112 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMBOL cap 928 192 R0
SYMATTR InstName C1
SYMATTR Value 1n
SYMBOL res 928 64 R0
SYMATTR InstName R1
SYMATTR Value 2k
SYMBOL res 1008 224 R0
SYMATTR InstName R2
SYMATTR Value 100k
SYMBOL res 1008 32 R0
SYMATTR InstName R3
SYMATTR Value 60k
SYMBOL voltage 848 16 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 5
SYMBOL npn 816 176 R0
SYMATTR InstName Q1
SYMATTR Value 2N2222
SYMBOL res 832 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 200
SYMBOL voltage 704 224 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value PULSE(0 10 10u 10n 10n 1u 10u)
SYMBOL res -64 320 R0
SYMATTR InstName R5
SYMATTR Value 0.01
SYMBOL Qucs-S-25.1.2-win64\\share\\qucs-s\\symbols\\opamp7t 368 576 R0
SYMATTR InstName X1
SYMBOL Qucs-S-25.1.2-win64\\share\\qucs-s\\symbols\\opamp7t 512 448 R0
SYMATTR InstName X2
SYMBOL e 208 528 R0
SYMATTR InstName E1
SYMATTR Value 100
SYMBOL bv 480 48 R0
SYMATTR InstName B2
SYMATTR Value V= if(v(vi) < 0.1,10,0)
SYMBOL res 1152 208 R0
SYMATTR InstName R6
SYMATTR Value 1Meg
SYMBOL bv 736 -336 R0
SYMATTR InstName B3
SYMATTR Value V= if(i(R6 ) > 0 ,10,0)
SYMBOL res 160 352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 2k
SYMBOL cap 176 368 R0
SYMATTR InstName C2
SYMATTR Value 100p
SYMBOL res 352 512 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 2k
SYMBOL cap 368 528 R0
SYMATTR InstName C3
SYMATTR Value 10n
SYMBOL e 336 336 R0
SYMATTR InstName E2
SYMATTR Value 100
TEXT -328 248 Left 2 !.tran 20m
TEXT 752 -16 Left 2 !.model SW SW(Ron=1m Roff=0.1Meg Vh=0.5 Vt=2.5
TEXT 800 312 Left 2 !.ic v(vcapa)=0
TEXT -48 -24 Left 2 !.ic i(L1)=0
