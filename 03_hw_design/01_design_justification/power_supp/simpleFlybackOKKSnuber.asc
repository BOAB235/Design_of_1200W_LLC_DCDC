Version 4.1
SHEET 1 2064 808
WIRE 256 -192 144 -192
WIRE 336 -192 256 -192
WIRE 432 -192 336 -192
WIRE 656 -144 576 -144
WIRE 848 -144 720 -144
WIRE 928 -144 848 -144
WIRE 944 -144 928 -144
WIRE 432 -96 432 -192
WIRE 576 -96 576 -144
WIRE 256 -48 256 -128
WIRE 288 -48 288 -64
WIRE 288 -48 256 -48
WIRE 304 -48 288 -48
WIRE 336 -48 336 -112
WIRE 336 -48 304 -48
WIRE 304 0 304 -48
WIRE 304 16 304 0
WIRE 432 64 432 -16
WIRE 432 64 304 64
WIRE 432 80 432 64
WIRE 576 112 576 -16
WIRE 848 112 848 -80
WIRE 944 112 944 -64
WIRE 384 144 160 80
WIRE 160 160 160 80
WIRE 1136 208 1136 112
WIRE 1120 384 1088 384
WIRE 1008 448 928 448
WIRE 1120 448 1120 384
WIRE 1120 448 1088 448
WIRE 1168 448 1120 448
WIRE 1424 448 1424 416
WIRE 1424 448 1360 448
WIRE 928 480 928 448
WIRE 1168 544 1152 544
WIRE 1424 544 1360 544
WIRE 1424 560 1424 544
WIRE 928 608 928 560
WIRE 1152 608 1152 544
WIRE 1424 688 1424 640
FLAG 160 240 0
FLAG 576 112 0
FLAG 848 112 0
FLAG 432 160 0
FLAG 944 112 0
FLAG 928 -144 vo
FLAG 144 -112 0
FLAG 384 96 0
FLAG 1424 752 0
FLAG 928 608 0
FLAG 1152 608 0
FLAG 1136 288 0
FLAG 1424 416 vo
FLAG 1136 112 vt
FLAG 1088 384 vc
SYMBOL ind2 416 -112 R0
SYMATTR InstName L1
SYMATTR Value {Lp}
SYMATTR Type ind
SYMATTR SpiceLine Rser=10m Rpar=10meg
SYMBOL ind2 592 0 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L2
SYMATTR Value {Ls}
SYMATTR Type ind
SYMATTR SpiceLine Rser=10m Rpar=10meg
SYMBOL diode 656 -128 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value RFUH20NS4S
SYMBOL cap 832 -144 R0
SYMATTR InstName C1
SYMATTR Value 10µ
SYMBOL res 928 -160 R0
SYMATTR InstName R1
SYMATTR Value 50
SYMBOL voltage 144 -208 M0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 400
SYMBOL cap 240 -192 R0
SYMATTR InstName C2
SYMATTR Value 10n
SYMBOL res 320 -208 R0
SYMATTR InstName R2
SYMATTR Value 82k
SYMBOL sw 432 64 R0
SYMATTR InstName S1
SYMATTR Value mysw
SYMBOL zener 1408 752 M180
WINDOW 0 24 64 Left 2
WINDOW 3 42 30 Left 2
SYMATTR InstName D2
SYMATTR Value BZX84C11VLY
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res 1440 544 M0
SYMATTR InstName R3
SYMATTR Value 100
SYMBOL Optos\\PC817A 1264 496 M0
SYMATTR InstName U1
SYMBOL voltage 928 464 M0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value 5
SYMBOL res 992 432 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL voltage 1136 192 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value PULSE(0 7 0 7u 100n 0 7.1u)
SYMBOL bv 160 144 R0
SYMATTR InstName B1
SYMATTR Value V=if(v(vt)>v(vc),-5,5)
SYMBOL diode 320 64 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value RFN1LAM7S
TEXT 568 552 Right 2 !.tran 0 10m 1m
TEXT 456 -152 Left 2 !k L1 L2 1
TEXT 808 -184 Left 2 !.ic v(vo)=14
TEXT -168 -280 Left 2 !.param Lp=600u n=8 Ls={Lp/(n*n)} D=0.036 Tp=7u
TEXT 160 432 Left 2 !.model mysw SW(Ron=0.01 Roff=1Meg Vt=2 Vh=0)
TEXT 784 744 Left 2 !.model SW SW(Ron=1m Roff=1meg Vh=0 Vt=0)
TEXT 1672 728 Left 2 ;ShortCircuit
TEXT 1112 448 Left 2 ;vc
