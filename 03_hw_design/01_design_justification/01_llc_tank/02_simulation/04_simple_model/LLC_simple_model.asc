Version 4.1
SHEET 1 2024 680
WIRE 896 -128 400 -128
WIRE 896 -32 896 -128
WIRE 688 48 560 48
WIRE 848 48 768 48
WIRE 400 64 400 -128
WIRE 560 64 560 48
WIRE 1472 80 1312 80
WIRE 1312 128 1312 80
WIRE 560 192 560 144
WIRE 896 192 896 64
WIRE 896 192 560 192
WIRE 896 224 896 192
WIRE 1040 224 896 224
WIRE 1184 224 1120 224
WIRE 1184 240 1184 224
WIRE 1312 240 1312 208
WIRE 1664 240 1312 240
WIRE 1888 240 1664 240
WIRE 1312 272 1312 240
WIRE 896 288 896 224
WIRE 672 368 560 368
WIRE 848 368 752 368
WIRE 1184 368 1184 320
WIRE 560 384 560 368
WIRE 400 512 400 144
WIRE 560 512 560 464
WIRE 560 512 400 512
WIRE 896 512 896 384
WIRE 896 512 560 512
WIRE 1184 512 1184 432
WIRE 1184 512 896 512
WIRE 1312 512 1312 352
WIRE 1472 512 1472 80
FLAG -288 256 0
FLAG -288 176 Vcmd
FLAG 400 512 0
FLAG 1312 576 0
FLAG 1472 576 0
FLAG 1664 304 0
FLAG 1888 320 0
SYMBOL ind 1168 224 R0
SYMATTR InstName L1
SYMATTR Value {Lm}
SYMATTR Type ind
SYMBOL ind 1136 208 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName LrR
SYMATTR Value {Lr}
SYMBOL nmos 848 -32 R0
SYMATTR InstName M1
SYMATTR Value IXTH88N30P
SYMBOL voltage -288 160 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value SINE(0 1 {Freq})
SYMBOL bv 560 48 R0
SYMATTR InstName B1
SYMATTR Value V= 10*(v(Vcmd)>{ Thresh})
SYMBOL bv 560 368 R0
SYMATTR InstName B2
SYMATTR Value V= 10*(v(Vcmd)<{-Thresh})
SYMBOL nmos 848 288 R0
SYMATTR InstName M2
SYMATTR Value IXTH88N30P
SYMBOL voltage 400 48 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=1m
SYMATTR InstName V1
SYMATTR Value 400
SYMBOL res 784 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 3
SYMBOL res 768 352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 3
SYMBOL res 1872 224 R0
SYMATTR InstName R_load_R
SYMATTR Value 1.8
SYMBOL cap 1168 368 R0
SYMATTR InstName C8
SYMATTR Value {8*Cru}
SYMBOL ind 1296 112 R0
SYMATTR InstName L2
SYMATTR Value {L_sec}
SYMATTR Type ind
SYMBOL ind 1296 256 R0
SYMATTR InstName L3
SYMATTR Value {L_sec}
SYMATTR Type ind
SYMBOL diode 1328 576 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMBOL diode 1488 576 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMBOL cap 1648 240 R0
SYMATTR InstName C1
SYMATTR Value {ncapo*Co}
TEXT -312 80 Left 2 !.param Freq=100k Thresh=0.2 tdt=100n
TEXT -296 304 Left 2 !.tran 3m
TEXT -296 376 Left 2 !.param Cru=15n Lr=21.8u Lm=65.4u L_sec=4.087u ncapo=7 Co=120u
TEXT 1128 24 Left 2 !k L1 L2 L3 1
